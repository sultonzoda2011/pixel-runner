body {
  background: linear-gradient(135deg, #181c2c 0%, #6ee2f5 100%);
  min-height: 100vh;
  margin: 0;
  color: #fff;
  text-align: center;
  font-family: 'Montserrat', 'Segoe UI', Arial, sans-serif;
}
#game-container {
  background: rgba(24, 28, 48, 0.94);
  border-radius: 18px;
  box-shadow: 0 8px 42px 0 #6ee2f544;
  padding: 26px 23px 33px 23px;
  margin: 28px 0 18px 0;
  display: inline-block;
}
canvas#game {
  display: block;
  margin: 0 auto 13px auto;
  background: transparent;
  border-radius: 12px;
  box-shadow: 0 0 32px #6ee2f588;
  max-width: 95vw;
}
#score {
  font-size: 1.17em;
  margin-bottom: 8px;
  color: #ffe066;
  font-weight: 600;
  letter-spacing: 0.01em;
  text-shadow: 0 2px 10px #0009;
}
#restart {
  font-size: 1.13em;
  padding: 11px 38px;
  border: none;
  border-radius: 14px;
  background: linear-gradient(90deg,#ffe066 10%,#ff6ec7 70%,#6ee2f5 100%);
  color: #181c2c;
  font-weight: bold;
  box-shadow: 0 4px 18px #6ee2f544;
  cursor: pointer;
  margin-top: 13px;
  transition: background 0.2s, transform 0.15s;
}
#restart:hover {
  background: linear-gradient(90deg, #ffe066 0%, #6ee2f5 40%, #ff6ec7 100%);
  transform: scale(1.08);
  box-shadow: 0 8px 34px #ff6ec744;
}
.hint {
  font-size: 1.1em;
  margin: 2px auto 13px auto;
  color: #76ff9c;
  text-shadow: 0 2px 10px #313b5288;
}
.neon-title {
  font-size: 2.3em;
  background: linear-gradient(90deg, #ffe066, #6ee2f5, #ff6ec7, #76ff9c 90%);
  --webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 22px #6ee2f5, 0 0 34px #ff6ec7;
  letter-spacing: 0.07em;
  margin-top: 32px;
  animation: neon-glow 2.5s infinite alternate;
}
@keyframes neon-glow {
  from { filter: drop-shadow(0 0 21px #6ee2f5bb) drop-shadow(0 0 6px #ff6ec7cc);}
  to   { filter: drop-shadow(0 0 38px #ffe066bb) drop-shadow(0 0 34px #76ff9cbb);}
}
.emoji { filter: drop-shadow(0 0 11px #ffe066aa); }
#ui {
  position: fixed;
  left: 0; top: 0; width: 100vw; height: 100vh;
  pointer-events: none;
  z-index: 100;
}
.menu-screen {
  pointer-events: all;
  position: absolute;
  left: 50%;
  top: 50%;
  min-width: 300px;
  min-height: 300px;
  background: rgba(24, 28, 48, 0.95);
  border-radius: 17px;
  box-shadow: 0 6px 30px #6ee2f566;
  transform: translate(-50%, -50%);
  z-index: 10;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}
.menu-screen button, .upgrade, .skin, .modif {
  margin: 10px 0;
  font-size: 1.08em;
  padding: 13px 30px;
  border-radius: 12px;
  border: none;
  background: linear-gradient(90deg, #ffe066 10%, #6ee2f5 90%);
  color: #23243a;
  box-shadow: 0 2px 12px #ff6ec733;
  font-weight: bold;
  cursor: pointer;
  transition: background 0.2s, transform 0.15s;
}
.menu-screen button:hover, .upgrade:hover, .skin:hover, .modif:hover {
  background: linear-gradient(90deg, #ffe066 10%, #ff6ec7 60%, #6ee2f5 100%);
  transform: scale(1.06);
}
.upgrade-list, .skin-list, .modif-list {
  margin: 10px 0 10px 0;
  display: flex; flex-wrap:wrap; gap:8px;
  justify-content:center;
}
.upgrade[disabled], .skin[disabled], .modif[disabled] {
  opacity: 0.6;
  cursor: default;
  background: #aaa;
  color: #fff;
}
.skin.selected, .modif.selected {
  background: linear-gradient(90deg, #76ff9c 10%, #ffe066 90%);
  color: #181c2c;
  border: 2px solid #ff6ec7;
}
#coinsBalance {
  color: #ffe066;
  font-weight: bold;
  margin: 12px 0 7px 0;
}
#scoresList {
  text-align: left;
  color: #ffe066;
  font-size: 1.15em;
  max-width: 320px;
  margin: 0 auto 18px auto;
}
#scoresList li {
  margin-bottom: 6px;
}
footer {
  font-size: 0.97em;
  color: #e3e3e3;
  margin-top: 30px;
  letter-spacing: 0.04em;
  opacity: 0.7;
  text-shadow: 0 1px 8px #003b52a8;
}
@media (max-width: 700px) {
  #game-container { padding: 7vw 0.5vw 8vw 0.5vw; }
  canvas#game { max-width: 98vw; }
  .neon-title { font-size: 1.35em; }
}
@media (max-width: 480px) {
  #game-container { padding: 2vw 0vw 7vw 0vw; }
  #score { font-size: 1em; }
  .menu-screen { min-width: 200px; min-height: 200px; }
}body {
  background: linear-gradient(135deg, #181c2c 0%, #6ee2f5 100%);
  min-height: 100vh;
  margin: 0;
  color: #fff;
  text-align: center;
  font-family: 'Montserrat', 'Segoe UI', Arial, sans-serif;
}
/* ... остальной CSS из твоего сообщения ... */
#game-container {
  background: rgba(24, 28, 48, 0.94);
  border-radius: 18px;
  box-shadow: 0 8px 42px 0 #6ee2f544;
  padding: 26px 23px 33px 23px;
  margin: 28px 0 18px 0;
  display: inline-block;
}
canvas#game {
  display: block;
  margin: 0 auto 13px auto;
  background: transparent;
  border-radius: 12px;
  box-shadow: 0 0 32px #6ee2f588;
  max-width: 95vw;
}
/* ... остальной CSS ... */
#ui {
  position: fixed;
  left: 0; top: 0; width: 100vw; height: 100vh;
  pointer-events: none; /* Важно! */
  z-index: 100;
}
.menu-screen {
  pointer-events: all;
}
body {
  background: linear-gradient(135deg, #181c2c 0%, #6ee2f5 100%);
  min-height: 100vh;
  margin: 0;
  color: #fff;
  text-align: center;
  font-family: 'Montserrat', 'Segoe UI', Arial, sans-serif;
  transition: background 1.2s;
}
body.theme-retro {
  background: linear-gradient(135deg, #222 0%, #ffb347 100%);
}
body.theme-acid {
  background: linear-gradient(135deg, #120c36 0%, #00ffea 100%);
}
body.theme-night {
  background: linear-gradient(135deg, #080b16 0%, #243b55 60%, #6ee2f5 100%);
}
#game-container {
  background: rgba(24, 28, 48, 0.94);
  border-radius: 18px;
  box-shadow: 0 8px 42px 0 #6ee2f544;
  padding: 26px 23px 33px 23px;
  margin: 28px 0 18px 0;
  display: inline-block;
}
canvas#game {
  display: block;
  margin: 0 auto 13px auto;
  background: transparent;
  border-radius: 12px;
  box-shadow: 0 0 32px #6ee2f588;
  max-width: 95vw;
}
#score {
  font-size: 1.17em;
  margin-bottom: 8px;
  color: #ffe066;
  font-weight: 600;
  letter-spacing: 0.01em;
  text-shadow: 0 2px 10px #0009;
}
#restart {
  font-size: 1.13em;
  padding: 11px 38px;
  border: none;
  border-radius: 14px;
  background: linear-gradient(90deg,#ffe066 10%,#ff6ec7 70%,#6ee2f5 100%);
  color: #181c2c;
  font-weight: bold;
  box-shadow: 0 4px 18px #6ee2f544;
  cursor: pointer;
  margin-top: 13px;
  transition: background 0.2s, transform 0.15s;
}
#restart:hover {
  background: linear-gradient(90deg, #ffe066 0%, #6ee2f5 40%, #ff6ec7 100%);
  transform: scale(1.08);
  box-shadow: 0 8px 34px #ff6ec744;
}
.hint {
  font-size: 1.1em;
  margin: 2px auto 13px auto;
  color: #76ff9c;
  text-shadow: 0 2px 10px #313b5288;
}
.neon-title {
  font-size: 2.3em;
  background: linear-gradient(90deg, #ffe066, #6ee2f5, #ff6ec7, #76ff9c 90%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 22px #6ee2f5, 0 0 34px #ff6ec7;
  letter-spacing: 0.07em;
  margin-top: 32px;
  animation: neon-glow 2.5s infinite alternate;
}
@keyframes neon-glow {
  from { filter: drop-shadow(0 0 21px #6ee2f5bb) drop-shadow(0 0 6px #ff6ec7cc);}
  to   { filter: drop-shadow(0 0 38px #ffe066bb) drop-shadow(0 0 34px #76ff9cbb);}
}
.emoji { filter: drop-shadow(0 0 11px #ffe066aa); }
#ui {
  position: fixed;
  left: 0; top: 0; width: 100vw; height: 100vh;
  pointer-events: none;
  z-index: 100;
}
.menu-screen {
  pointer-events: all;
  position: absolute;
  left: 50%;
  top: 50%;
  min-width: 320px;
  min-height: 350px;
  background: rgba(24, 28, 48, 0.96);
  border-radius: 17px;
  box-shadow: 0 6px 30px #6ee2f566;
  transform: translate(-50%, -50%);
  z-index: 10;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}
.menu-section {
  margin: 6px 0 18px 0;
}
.menu-section label { font-weight: bold; margin-right: 7px;}
.menu-section select, .menu-section button {
  font-size: 1em;
  padding: 9px 17px;
  border-radius: 8px;
  border: none;
  margin: 0 4px;
  background: linear-gradient(90deg, #ffe066 10%, #6ee2f5 90%);
  color: #23243a;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 2px 10px #ff6ec733;
  transition: background 0.2s, transform 0.15s;
}
.menu-section button.selected {
  background: linear-gradient(90deg, #76ff9c 10%, #ffe066 90%);
  color: #181c2c;
  border: 2px solid #ff6ec7;
}
.menu-section select:focus, .menu-section button:focus {
  outline: 2px solid #6ee2f5;
}
footer {
  font-size: 0.97em;
  color: #e3e3e3;
  margin-top: 30px;
  letter-spacing: 0.04em;
  opacity: 0.7;
  text-shadow: 0 1px 8px #003b52a8;
}
@media (max-width: 700px) {
  #game-container { padding: 7vw 0.5vw 8vw 0.5vw; }
  canvas#game { max-width: 98vw; }
  .neon-title { font-size: 1.35em; }
  .menu-screen { min-width: 220px; min-height: 220px;}
}
@media (max-width: 480px) {
  #game-container { padding: 2vw 0vw 7vw 0vw; }
  #score { font-size: 1em; }
  .menu-screen { min-width: 150px; min-height: 180px;}
}